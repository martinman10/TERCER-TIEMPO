<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Qui√©n Miente?</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@900&family=Bebas+Neue&display=swap" rel="stylesheet">
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#ff4757">

<!-- Para iPhone -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<link rel="apple-touch-icon" href="img/iconoquienmiente.png">
<body>
  <button class="help-button" id="btnAyuda">?</button>
  <!-- Bot√≥n tema (solo visible en pantalla de configuraci√≥n) -->
<button class="theme-button" id="btnTema" aria-label="Cambiar tema">üåô</button>
<!-- Bot√≥n volver -->
<button id="btnVolverConfiguracion" class="boton-volver" aria-label="Volver">
    <img src="img/volver.svg" alt="Volver">
</button>

  <div class="logo-container">
    <img src="img/letras-quienmiente.png" alt="Logo" class="logo-icono">
  </div>

  <div class="container" id="main">
    <div id="pantalla-inicial">

      <label for="jugadores">N√∫mero de jugadores:</label>
<select id="jugadores"></select>

<label for="impostores">N√∫mero de impostores:</label>
<select id="impostores"></select>

<label for="duracion">Duraci√≥n de la ronda (minutos):</label>
<select id="duracion"></select>

      <label for="tematica">Tem√°tica:</label>
<div id="filaTematicas">
  <button id="btnSeleccionarTematicas">Elegir tem√°ticas</button>
  <button id="btnEditarTematica" title="Editar tem√°ticas">
    <img src="img/lapiz.png" alt="Editar">
  </button>
</div>

<div id="tematicasSeleccionadasTexto" style="margin-top: 10px; font-size: 0.9rem; color: #666; text-align: left;">
  Ninguna tem√°tica seleccionada
</div>

      <button id="btnComenzarJuego">Comenzar</button>
      <button id="btnEditarNombres">Editar nombres</button>
      
      <!-- BOT√ìN MULTIJUGADOR ONLINE CON ESTILO ROJO -->
      <button id="btnMultijugador" style="background-color: #ff4757; color: white; font-weight: 700; box-shadow: 0 6px 12px rgba(255, 71, 87, 0.5); margin-top: 15px;">
        üåê Multijugador Online
      </button>
    </div>
    <div id="pantalla-multijugador" style="display: none;"></div>

<div id="pantalla-editar-nombres" style="display: none;">
  <h2>Editar nombres</h2>

  <!-- Contenedor con scroll -->
  <div id="inputs-nombres-container">
    <div id="inputs-nombres"></div>
  </div>

  <!-- Botones fijos -->
  <div class="fixed-buttons">
    <button id="btnGuardarNombres">Guardar</button>
    <button id="btnCancelarEdicion">Cancelar</button>
    <button id="btnEliminarNombres">Eliminar nombres guardados</button>
  </div>
</div>

<div id="pantalla-editar-tematica" style="display: none;">
  <h2>Editar tem√°tica</h2>
  <p style="text-align:left; font-size:0.95rem; color:#444; margin-bottom:8px;">
    Desmarca los famosos que NO quieras que aparezcan en esta tem√°tica.
  </p>
  <div id="lista-famosos-tematica" style="max-height:40vh; overflow:auto; text-align:left;"></div>

  <button id="btnGuardarTematica">Guardar</button>
  <button id="btnCancelarTematica">Cancelar</button>
</div>

<div id="pantalla-seleccionar-tematicas" style="display: none;">
  <h2>Selecciona las tem√°ticas</h2>
  <p class="subtitle">Toca las tem√°ticas que quieras incluir en el juego</p>
  
  <div id="lista-tematicas-cards" class="tematicas-grid">
    <!-- Las tarjetas se generar√°n din√°micamente aqu√≠ -->
  </div>

  <div class="selected-counter">
    <span id="contador-seleccionadas">0 tem√°ticas seleccionadas</span>
  </div>

  <div class="fixed-buttons">
    <button id="btnConfirmarTematicas" class="btn-primary">Confirmar selecci√≥n</button>
    <button id="btnCancelarTematicas" class="btn-secondary">Cancelar</button>
  </div>
</div>

    <div id="pantalla-juego" style="display: none;"></div>
  </div>
</div>

  <div class="modal-overlay" id="modal">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" tabindex="-1">
<div class="modal-content">
  <h2 id="modalTitle">¬øC√≥mo se juega?</h2>
  <ol style="padding-left: 1.2em; font-size: 1.05rem; line-height: 1.5; color: #333;">
    <li>
      <strong>Prepar√° la partida</strong><br>
      Eleg√≠ la cantidad de jugadores, cu√°ntos ser√°n impostores, la tem√°tica y la duraci√≥n de la ronda.
    </li>
    <li>
      <strong>Descubr√≠ tu rol</strong><br>
      Cuando sea tu turno, mir√° la pantalla en secreto:<br>
      - Si sos <span class="impostor">impostor</span>, invent√° respuestas y trat√° de no ser descubierto.<br>
      - Si sos <span class="famoso">famoso</span>, recibir√°s el nombre o imagen de un personaje famoso: respond√© siempre de forma coherente con ese personaje.
    </li>
    <li>
      <strong>Pas√° el tel√©fono</strong><br>
      Despu√©s de ver tu rol, pas√° el tel√©fono al siguiente jugador sin que nadie m√°s lo vea.
    </li>
    <li>
      <strong>Charla y deducci√≥n</strong><br>
      Durante el tiempo de la ronda, hagan preguntas y respondan. El objetivo de los famosos es descubrir a los impostores; el de los impostores es confundirse entre los dem√°s.
    </li>
    <li>
      <strong>Votaci√≥n</strong><br>
      Al terminar el tiempo, todos se√±alan y dicen qui√©n creen que es impostor. El que tenga m√°s votos se elimina.
    </li>
    <li>
      <strong>Fin y nueva ronda</strong><br>
      Pod√©s volver a jugar cambiando o no los roles. ¬°Gana el equipo que logre cumplir su objetivo!
    </li>
  </ol>
</div>
    <div class="modal-footer">
      <button id="btnCerrarModal">Cerrar</button>
    </div>
  </div>
</div>

<!-- Socket.IO para multijugador -->
<script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
<script>
  // Conexi√≥n global para que todos los scripts puedan usar `socket`
  window.socket = io("https://quien-miente-server.onrender.com", {
    transports: ["websocket", "polling"]
  });

  window.socket.on("connect", () => {
    console.log("‚úÖ Conectado al servidor:", window.socket.id);
  });

  window.socket.on("connect_error", (err) => {
    console.error("‚ùå Error de conexi√≥n Socket.IO:", err && err.message);
  });

  window.socket.on("disconnect", (reason) => {
    console.log("‚ö†Ô∏è Desconectado:", reason);
  });
</script>

<script src="famosos.js"></script>
<script src="tematicas.js"></script>
<script src="multiplayer.js"></script>
<script src="script.js"></script>

<script>
// Agregar funcionalidad del bot√≥n multijugador
document.addEventListener('DOMContentLoaded', function() {
  const btnMultijugador = document.getElementById('btnMultijugador');
  if (btnMultijugador) {
    btnMultijugador.addEventListener('click', function() {
      // Ocultar pantalla inicial
      document.getElementById('pantalla-inicial').style.display = 'none';
      
      // Mostrar men√∫ multijugador
      multiplayerManager.showMultiplayerMenu();
    });
  }
});
</script>

</body>
</html>